<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <title>Userscripts</title>
  <meta name="description" content="">
  <meta name="author" content="Javier Lopez <jlopez@lemontech.cl>">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="../dist/reset.css">
  <link rel="stylesheet" href="../dist/reveal.css">
  <link rel="stylesheet" href="../dist/theme/black.css" id="theme">
  <link rel="stylesheet" href="../plugin/highlight/monokai.css" id="highlight-theme">
  <style type="text/css">
    body {
      background: none;
    }

    .lemon {
      color: #F0322C;
    }

    .big {
      font-size: 1.4em !important;
    }

    .reveal .progress span {
      background: #F0322C;
    }

    .reveal .controls div.navigate-right,
    .reveal .controls div.navigate-right.enabled {
      border-left-color: #F0322C;
    }

    .reveal .controls div.navigate-left,
    .reveal .controls div.navigate-left.enabled {
      border-right-color: #F0322C;
    }

    .reveal h2 {
      color: #34474E;
    }

    .logo {
      height: 80px;
      border: none !important;
    }
  </style>
  <!--[if lt IE 9]>
  <script src="lib/js/html5shiv.js"></script>
  <![endif]-->
</head>

<body>
  <div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
      <section>
        <h1>
          <span style="float: left;">Userscripts</span>
          <br />
        </h1>
        <div>AKA Greasemonkey</div>
      </section>

      <section>
        <h1>¿Qué son?</h1>
        <p>Scripts js que se inyectan al cargar una página</p>
      </section>

      <section>
        <h1>Historia</h1>
        <ul>
          <li>2004: <img class="logo" src="../img/userscripts/greasemonkey.png" /> + <img class="logo"
              src="../img/userscripts/firefox.jpg" /></li>
          <li>2005: <img class="logo" src="../img/userscripts/opera.png" /></li>
          <li>2010: <img class="logo" src="../img/userscripts/chrome.png" /></li>
          <li>2010: <img class="logo" src="../img/userscripts/tampermonkey.png" /> + <img class="logo"
              src="../img/userscripts/chrome.png" /></li>
          <li>2010: <img class="logo" src="../img/userscripts/ninjakit.png" /> + <img class="logo"
              src="../img/userscripts/safari.png" /></li>
        </ul>
      </section>

      <section>
        <h1>¿Qué tan poderosos son?</h1>
        <ul>
          <li>Extensión</li>
          <li><strong>Userscript</strong></li>
          <li>Bookmarklet</li>
        </ul>
        <p>Básicamente puede hacer lo mismo que la página, pero tiene acceso a una pequeña API</p>
      </section>

      <section>
        <h1>Metadata</h1>
        <pre>
        // ==UserScript==
        // @key value
        // ==/UserScript==
      </pre>
        <ul>
          <li><code>@name</code></li>
          <li><code>@namespace</code></li>
          <li><code>@include/exclude</code></li>
          <li><code>@grant</code></li>
          <li><code>@require</code></li>
          <li><code>@run-at</code></li>
          <li><code>@resource</code></li>
          <li><a href="https://wiki.greasespot.net/Metadata_Block">y un montón más...</a></li>
        </ul>
      </section>

      <section>
        <h1>API</h1>
        <ul>
          <li><code>GM_(set|get|delete)Value</code></li>
          <li><code>GM_xmlhttpRequest</code></li>
          <li><code>GM_registerMenuCommand</code></li>
          <li><code>GM_getResource(Text|URL)</code></li>
          <li><code>GM_setClipboard</code></li>
          <li><a href="https://wiki.greasespot.net/Greasemonkey_Manual:API">y unos pocos más...</a></li>
        </ul>
      </section>

      <section>
        <h1>¡OJO!</h1>
        <h3>Código corre en sandbox</h3>
        <ul>
          <li>Si se <code>@grant</code>ean permisos para usar la API, se pierde el acceso a las variables de la página
          </li>
          <li>
            Callbacks a funciones del script no funcionan si se llaman como string
            <ul>
              <li>
                <code>setTimeout('hola()', 1000)</code>
              </li>
              <li>
                <code>div.innerHTML = '&lt;button onclick="chao()"&gt;'</code>
              </li>
            </ul>
          </li>
        </ul>
      </section>

      <section>
        <h1>¿Dónde bajo/subo scripts?</h1>
        <ul>
          <li><a href="https://userscripts-mirror.org/"><s>Userscripts.org</s></a></li>
          <li><a href="https://openuserjs.org/">OpenUserJS.org</a></li>
          <li><a href="https://greasyfork.org/">Greasy Fork</a></li>
          <li><a href="http://www.google.com/">Cualquier archivo con extensión .user.js</a></li>
        </ul>
      </section>

      <section>
        <h1>Ejemplos...</h1>
      </section>

    </div>
  </div>

  <script src="../dist/reveal.js"></script>
  <script src="../plugin/notes/notes.js"></script>
  <script src="../plugin/markdown/markdown.js"></script>
  <script src="../plugin/highlight/highlight.js"></script>
  <script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
      hash: true,

      // Learn about plugins: https://revealjs.com/plugins/
      plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
    });
  </script>
</body>

</html>